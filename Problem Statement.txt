Problem Statement
-----------------
A leading retail company wants to better understanding its customers shopping behaviour in order to improve sales, customer satisfaction
and long-ter loyalty. The management team has noticed changes n purchasing patterns across demographics, product categories and sales channels
(online vs offline). They are particlaly interested in uncovering which factors, such as discounts, review, seasons, or payment preferences,
drive consumers decisions and repeat purchases.

You are tasked with analyzing the companys consumer behaviour dataset to answer the following overaching business quetions:
"How can the company leverage consumer shopping data to identify trends, 
improve customer engagement, and optimize marketing and product strategies?"

Deliverables
------------
1. Data preperationn and Modeling (Python): 
	Clean and transform the raw dataset for analysis.
2. Data Analysis (SQL) : 
	Organize the data into a structured format, simulate business transactions and run quries to extract insights on customer segments,
	oyalty and purchase drivers.
3. Visualization & Insights (Power BI) : 
	Build an interactive dashboard that highlights key patterns and trends, enabling stakeholders to make data-driven decisions.
4. Report & Presentation :
	Write a clear project report summarizing your key findings and business recommendations. Prepare a presentation that visually
	communicates insights and actionable recommendation to stakeholders.
5. Github Repository :
	Include all Python scripts, SQL queries and dashboard files in a well-structured repository.


Required Applications
---------------------
For data base we used PgAdmin 4, Install properlly and connect with Jupytor notebook

We have fev more question related our database
--1. What is the total revenue generated by male vs female customer?
select gender, sum(purchase_amount) as revenue from customer group by gender;

--2. Which customers used a discount but still spent more than the average purchase amount?
select customer_id, purchase_amount from customer where discount_applied = 'Yes' and purchase_amount>=(
select avg(purchase_amount) from customer);

--3. Which are the top 5 products with the highest average review rating?
select item_purchased, round(avg(review_rating::numeric),2) as "Average Product Rating"
from customer group by item_purchased order by avg(review_rating) desc limit 5;

--4. Copare the average purchse amount between standard and express shipping.
select shipping_type, round(avg(purchase_amount),2) from customer
where shipping_type in ('Standard','Express') group by shipping_type;

--5. Do subscribe customers spend more? compare average spend and total revenue between subscribers and non-subscriberes
select subscription_status, count(customer_id) as total_customers,
round(avg(purchase_amount),2) as avg_spend, round(sum(purchase_amount),2) as total_revenue
from customer group by subscription_status order by total_revenue, avg_spend desc;

--6. Which 5 products have the highest percentage of purchases with discount applied?
select item_purchased, round(100 * sum(case when discount_applied = 'Yes' then 1 else 0 end)/count(*),2) as discount_rate
from customer group by item_purchased order by discount_rate desc limit 5;

--7. Segment customers into new, returning, and loyal based on their total numbers of previous purchases 
--and show the count of each segment.
with customer_type as (
select customer_id, previous_purchases,
case
	when previous_purchases = 1 then 'New'
	when previous_purchases between 2 and 10 then 'Returning'
	else 'Loyal'
	end as customer_segment
from customer
)
select customer_segment, count(*) as "Number of Customers"
from customer_type group by customer_segment;
--8. what are the top 3 most purchsed products within each category?
with item_counts as (
select category, item_purchased, count(customer_id) as total_orders,
row_number() over(partition by category order by count(customer_id) desc) as item_rank
from customer
group by category, item_purchased
)
select item_rank, category, item_purchased, total_orders
from item_counts where item_rank <= 3;

--9. Are customers who are repeat buyers (more than 5 previous purchases) also likely to subscribe?
select subscription_status, count(customer_id) as repeat_buyers
from customer where previous_purchases > 5 group by subscription_status;

--10. What are the revenue contribution of each age group? 
select age_group, sum(purchase_amount) as total_revenue
from customer group by age_group order by total_revenue desc;